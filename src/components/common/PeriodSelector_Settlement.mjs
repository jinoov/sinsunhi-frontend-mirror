// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Cx from "rescript-classnames/src/Cx.mjs";
import * as Curry from "rescript/lib/es6/curry.js";
import * as React from "react";
import * as Caml_obj from "rescript/lib/es6/caml_obj.js";
import * as PeriodSelector from "./PeriodSelector.mjs";
import AddDays from "date-fns/addDays";
import GetDate from "date-fns/getDate";
import SetDate from "date-fns/setDate";
import SubDays from "date-fns/subDays";
import AddMonths from "date-fns/addMonths";
import IsSameDay from "date-fns/isSameDay";
import SubMonths from "date-fns/subMonths";
import EndOfMonth from "date-fns/endOfMonth";
import IsSameMonth from "date-fns/isSameMonth";
import IsLastDayOfMonth from "date-fns/isLastDayOfMonth";

function getPeriod(from, to_) {
  if (IsSameDay(AddDays(from, 7), to_)) {
    return /* LastWeek */0;
  } else if (GetDate(from) === 1 && GetDate(to_) === 15 && IsSameMonth(from, to_)) {
    return /* FirstHalfMonth */1;
  } else if (GetDate(from) === 16 && IsLastDayOfMonth(to_) && IsSameMonth(from, to_)) {
    return /* SecondHalfMonth */2;
  } else if (IsSameDay(AddMonths(from, 1), to_)) {
    return /* OneMonth */3;
  } else {
    return ;
  }
}

function setPeriod(setFn, period, to_) {
  switch (period) {
    case /* LastWeek */0 :
        return Curry._2(setFn, SubDays(to_, 7), to_);
    case /* FirstHalfMonth */1 :
        return Curry._2(setFn, SetDate(to_, 1), SetDate(to_, 15));
    case /* SecondHalfMonth */2 :
        return Curry._2(setFn, SetDate(to_, 16), EndOfMonth(to_));
    case /* OneMonth */3 :
        return Curry._2(setFn, SubMonths(to_, 1), to_);
    
  }
}

function PeriodSelector_Settlement(Props) {
  var from = Props.from;
  var to_ = Props.to_;
  var onSelect = Props.onSelect;
  var period = getPeriod(from, to_);
  return React.createElement(React.Fragment, undefined, React.createElement("button", {
                  className: Cx.cx([
                        PeriodSelector.defaultStyle,
                        PeriodSelector.styleOnOff(Caml_obj.equal(period, /* LastWeek */0))
                      ]),
                  type: "button",
                  onClick: (function (param) {
                      setPeriod(onSelect, /* LastWeek */0, to_);
                    })
                }, "지난주"), React.createElement("button", {
                  className: Cx.cx([
                        PeriodSelector.defaultStyle,
                        PeriodSelector.styleOnOff(Caml_obj.equal(period, /* FirstHalfMonth */1))
                      ]),
                  type: "button",
                  onClick: (function (param) {
                      setPeriod(onSelect, /* FirstHalfMonth */1, to_);
                    })
                }, "1~15일"), React.createElement("button", {
                  className: Cx.cx([
                        PeriodSelector.defaultStyle,
                        PeriodSelector.styleOnOff(Caml_obj.equal(period, /* SecondHalfMonth */2))
                      ]),
                  type: "button",
                  onClick: (function (param) {
                      setPeriod(onSelect, /* SecondHalfMonth */2, to_);
                    })
                }, "16~말일"), React.createElement("button", {
                  className: Cx.cx([
                        PeriodSelector.defaultStyle,
                        PeriodSelector.styleOnOff(Caml_obj.equal(period, /* OneMonth */3))
                      ]),
                  type: "button",
                  onClick: (function (param) {
                      setPeriod(onSelect, /* OneMonth */3, to_);
                    })
                }, "1개월"));
}

var defaultStyle = PeriodSelector.defaultStyle;

var styleOnOff = PeriodSelector.styleOnOff;

var make = PeriodSelector_Settlement;

export {
  defaultStyle ,
  styleOnOff ,
  getPeriod ,
  setPeriod ,
  make ,
}
/* react Not a pure module */
