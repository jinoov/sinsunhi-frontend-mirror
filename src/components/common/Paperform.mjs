// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Env from "../../constants/Env.mjs";
import * as React from "react";
import * as ReactUtil from "../../utils/ReactUtil.mjs";
import * as Belt_Option from "rescript/lib/es6/belt_Option.js";
import * as Caml_option from "rescript/lib/es6/caml_option.js";
import * as Webapi__Dom__Element from "rescript-webapi/src/Webapi/Dom/Webapi__Dom__Element.mjs";
import * as Webapi__Dom__Document from "rescript-webapi/src/Webapi/Dom/Webapi__Dom__Document.mjs";

function Paperform(Props) {
  var paperFormId = Props.paperFormId;
  var prefill = Props.prefill;
  var attrs = {
    id: paperFormId,
    "data-paperform-id": paperFormId,
    className: "hidden",
    prefill: prefill,
    "data-popup-button": "1",
    spinner: "1"
  };
  React.useEffect((function () {
          var script = Webapi__Dom__Element.asHtmlElement(document.createElement("script"));
          var btn = Belt_Option.flatMap(Caml_option.nullable_to_opt(document.getElementById(paperFormId)), Webapi__Dom__Element.asHtmlElement);
          var body = Belt_Option.flatMap(Webapi__Dom__Document.asHtmlDocument(document), (function (prim) {
                  return Caml_option.nullable_to_opt(prim.body);
                }));
          if (body !== undefined && script !== undefined && btn !== undefined) {
            var btn$p = Caml_option.valFromOption(btn);
            var script$p = Caml_option.valFromOption(script);
            script$p.setAttribute("src", Env.paperformEmbedUrl);
            script$p.addEventListener("load", (function (param) {
                    btn$p.click();
                    
                  }));
            Caml_option.valFromOption(body).appendChild(script$p);
          }
          
        }), []);
  return React.createElement(ReactUtil.SpreadProps.make, {
              children: React.createElement("button", undefined),
              props: attrs
            });
}

var make = Paperform;

export {
  make ,
  
}
/* Env Not a pure module */
