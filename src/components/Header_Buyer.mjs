// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Curry from "rescript/lib/es6/curry.js";
import * as React from "react";
import * as Js_dict from "rescript/lib/es6/js_dict.js";
import * as Redirect from "./Redirect.mjs";
import * as PC_Header from "../pages/buyer/pc/components/PC_Header.mjs";
import Link from "next/link";
import * as Belt_Array from "rescript/lib/es6/belt_Array.js";
import * as Js_promise from "rescript/lib/es6/js_promise.js";
import * as Belt_Option from "rescript/lib/es6/belt_Option.js";
import * as Caml_option from "rescript/lib/es6/caml_option.js";
import * as CustomHooks from "../utils/CustomHooks.mjs";
import * as ReactEvents from "../utils/ReactEvents.mjs";
import * as Router from "next/router";
import * as ReactRelay from "react-relay";
import * as CartLinkIcon from "./common/CartLinkIcon.mjs";
import * as HomeLinkIcon from "./HomeLinkIcon.mjs";
import * as RescriptRelay from "rescript-relay/src/RescriptRelay.mjs";
import * as RelayRuntime from "relay-runtime";
import * as AppLink_Header from "./AppLink_Header.mjs";
import * as IconArrowSelect from "./svgs/IconArrowSelect.mjs";
import * as ChannelTalkHelper from "../utils/ChannelTalkHelper.mjs";
import * as FeatureFlagWrapper from "../pages/buyer/pc/FeatureFlagWrapper.mjs";
import * as GnbBannerList_Buyer from "./GnbBannerList_Buyer.mjs";
import * as ShopSearchInput_Buyer from "./ShopSearchInput_Buyer.mjs";
import * as RescriptRelay_Internal from "rescript-relay/src/RescriptRelay_Internal.mjs";
import * as ShopCategorySelect_Buyer from "./ShopCategorySelect_Buyer.mjs";
import * as RescriptReactErrorBoundary from "@rescript/react/src/RescriptReactErrorBoundary.mjs";
import * as ReactDropdownMenu from "@radix-ui/react-dropdown-menu";
import * as HeaderBuyer_LikeHeader_Query_graphql from "../__generated__/HeaderBuyer_LikeHeader_Query_graphql.mjs";
import * as HeaderBuyer_RecentHeader_Query_graphql from "../__generated__/HeaderBuyer_RecentHeader_Query_graphql.mjs";
import ArrowLeftLineSvg from "../../public/assets/arrow-left-line.svg";

var arrowLeftLineIcon = ArrowLeftLineSvg;

function Header_Buyer$Mobile$LoggedInUserMenu(Props) {
  return React.createElement(React.Fragment, undefined, React.createElement(CartLinkIcon.make, {}), React.createElement(Link, {
                  href: "/buyer/me",
                  children: React.createElement("a", undefined, React.createElement("img", {
                            className: "w-7 h-7 object-cover ml-2",
                            alt: "마이페이지",
                            src: "/icons/user-gray-circle-3x.png"
                          }))
                }));
}

var LoggedInUserMenu = {
  make: Header_Buyer$Mobile$LoggedInUserMenu
};

function Header_Buyer$Mobile$Normal(Props) {
  var title = Props.title;
  var router = Router.useRouter();
  return React.createElement(React.Fragment, undefined, React.createElement("div", {
                  className: "w-full fixed top-0 left-0 z-10 bg-white"
                }, React.createElement("header", {
                      className: "w-full max-w-3xl mx-auto h-14 bg-white"
                    }, React.createElement("div", {
                          className: "px-5 py-4 flex justify-between"
                        }, React.createElement("button", {
                              type: "button",
                              onClick: (function (param) {
                                  router.back();
                                })
                            }, React.createElement("img", {
                                  className: "w-6 h-6",
                                  alt: "뒤로가기",
                                  src: arrowLeftLineIcon
                                })), React.createElement("div", undefined, React.createElement("span", {
                                  className: "font-bold text-xl"
                                }, title)), React.createElement(HomeLinkIcon.make, {})))), React.createElement("div", {
                  className: "w-full h-14"
                }));
}

var Normal = {
  make: Header_Buyer$Mobile$Normal
};

function Header_Buyer$Mobile$BackAndCart(Props) {
  var title = Props.title;
  var router = Router.useRouter();
  return React.createElement(React.Fragment, undefined, React.createElement("div", {
                  className: "w-full fixed top-0 left-0 z-10 bg-white"
                }, React.createElement("header", {
                      className: "w-full max-w-3xl mx-auto h-14 bg-white"
                    }, React.createElement("div", {
                          className: "px-5 py-4 flex items-center"
                        }, React.createElement("div", {
                              className: "w-1/3 flex justify-start"
                            }, React.createElement("button", {
                                  type: "button",
                                  onClick: (function (param) {
                                      router.back();
                                    })
                                }, React.createElement("img", {
                                      className: "w-6 h-6",
                                      alt: "뒤로가기",
                                      src: arrowLeftLineIcon
                                    }))), React.createElement("div", {
                              className: "w-1/3 flex justify-center"
                            }, React.createElement("span", {
                                  className: "font-bold text-xl"
                                }, title)), React.createElement("div", {
                              className: "w-1/3 flex gap-2 justify-end"
                            }, React.createElement(CartLinkIcon.make, {}), React.createElement(HomeLinkIcon.make, {}))))), React.createElement("div", {
                  className: "w-full h-14"
                }));
}

var BackAndCart = {
  make: Header_Buyer$Mobile$BackAndCart
};

function Header_Buyer$Mobile$NoBack(Props) {
  var title = Props.title;
  return React.createElement(React.Fragment, undefined, React.createElement("div", {
                  className: "w-full fixed top-0 left-0 z-10 bg-white"
                }, React.createElement("header", {
                      className: "w-full max-w-3xl mx-auto h-14 bg-white"
                    }, React.createElement("div", {
                          className: "px-5 py-4 flex justify-between"
                        }, React.createElement("div", {
                              className: "w-[24px]"
                            }), React.createElement("div", undefined, React.createElement("span", {
                                  className: "font-bold text-xl"
                                }, title)), React.createElement(HomeLinkIcon.make, {})))), React.createElement("div", {
                  className: "w-full h-14"
                }));
}

var NoBack = {
  make: Header_Buyer$Mobile$NoBack
};

function Header_Buyer$Mobile$TitleOnly(Props) {
  var title = Props.title;
  return React.createElement(React.Fragment, undefined, React.createElement("div", {
                  className: "w-full fixed top-0 left-0 z-10 bg-white"
                }, React.createElement("header", {
                      className: "w-full max-w-3xl mx-auto h-14 bg-white"
                    }, React.createElement("div", {
                          className: "px-5 py-4 flex justify-center"
                        }, React.createElement("div", undefined, React.createElement("span", {
                                  className: "font-bold text-xl"
                                }, title))))), React.createElement("div", {
                  className: "w-full h-14"
                }));
}

var TitleOnly = {
  make: Header_Buyer$Mobile$TitleOnly
};

function Header_Buyer$Mobile$NoHome(Props) {
  var title = Props.title;
  var router = Router.useRouter();
  return React.createElement(React.Fragment, undefined, React.createElement("div", {
                  className: "w-full fixed top-0 left-0 z-10 bg-white"
                }, React.createElement("header", {
                      className: "w-full max-w-3xl mx-auto h-14 bg-white"
                    }, React.createElement("div", {
                          className: "px-5 py-4 flex justify-between"
                        }, React.createElement("button", {
                              type: "button",
                              onClick: (function (param) {
                                  router.back();
                                })
                            }, React.createElement("img", {
                                  className: "w-6 h-6",
                                  src: arrowLeftLineIcon
                                })), React.createElement("div", undefined, React.createElement("span", {
                                  className: "font-bold text-xl"
                                }, title)), React.createElement("div", {
                              className: "w-6"
                            })))), React.createElement("div", {
                  className: "w-full h-14"
                }));
}

var NoHome = {
  make: Header_Buyer$Mobile$NoHome
};

function Header_Buyer$Mobile$WithNumber$NumberBadge$Skeleton(Props) {
  return React.createElement("span", {
              className: "text-xs font-bold leading-3 px-1.5 py-0.5 rounded-xl bg-slate-100 w-3 h-4 animate-pulse"
            });
}

var Skeleton = {
  make: Header_Buyer$Mobile$WithNumber$NumberBadge$Skeleton
};

function Header_Buyer$Mobile$WithNumber$NumberBadge(Props) {
  var count = Props.count;
  return React.createElement("span", {
              className: "text-xs font-bold leading-3 px-1.5 py-0.5 rounded-xl bg-slate-100 h-4"
            }, "" + Belt_Option.getWithDefault(Belt_Option.map(count, (function (prim) {
                        return String(prim);
                      })), "") + "");
}

var NumberBadge = {
  Skeleton: Skeleton,
  make: Header_Buyer$Mobile$WithNumber$NumberBadge
};

function Header_Buyer$Mobile$WithNumber$Container(Props) {
  var title = Props.title;
  var count = Props.count;
  var router = Router.useRouter();
  return React.createElement(React.Fragment, undefined, React.createElement("div", {
                  className: "w-full fixed top-0 left-0 z-10 bg-white h-14"
                }, React.createElement("header", {
                      className: "w-full max-w-3xl mx-auto  bg-white"
                    }, React.createElement("div", {
                          className: "px-5 py-4 flex justify-between"
                        }, React.createElement("button", {
                              className: "h-6",
                              type: "button",
                              onClick: (function (param) {
                                  router.back();
                                })
                            }, React.createElement("img", {
                                  className: "w-6 h-6",
                                  src: arrowLeftLineIcon
                                })), React.createElement("div", {
                              className: "inline-flex gap-1 items-center"
                            }, React.createElement("span", {
                                  className: "text-xs font-bold leading-3 px-1.5 h-4 opacity-0"
                                }, "" + Belt_Option.getWithDefault(Belt_Option.map(count, (function (prim) {
                                            return String(prim);
                                          })), "") + ""), React.createElement("span", {
                                  className: "font-bold text-xl leading-6"
                                }, title), React.createElement(React.Suspense, {
                                  children: React.createElement(Header_Buyer$Mobile$WithNumber$NumberBadge, {
                                        count: count
                                      }),
                                  fallback: React.createElement(Header_Buyer$Mobile$WithNumber$NumberBadge$Skeleton, {})
                                })), React.createElement("div", {
                              className: "w-6 h-6"
                            })))), React.createElement("div", {
                  className: "w-full h-14"
                }));
}

var Container = {
  make: Header_Buyer$Mobile$WithNumber$Container
};

function Header_Buyer$Mobile$WithNumber(Props) {
  var title = Props.title;
  var count = Props.count;
  var match = React.useState(function () {
        return false;
      });
  var setIsCsr = match[1];
  React.useEffect((function () {
          setIsCsr(function (param) {
                return true;
              });
        }), []);
  if (match[0]) {
    return React.createElement(Header_Buyer$Mobile$WithNumber$Container, {
                title: title,
                count: count
              });
  } else {
    return null;
  }
}

var WithNumber = {
  NumberBadge: NumberBadge,
  Container: Container,
  make: Header_Buyer$Mobile$WithNumber
};

function use(variables, fetchPolicy, fetchKey, networkCacheConfig, param) {
  var data = ReactRelay.useLazyLoadQuery(HeaderBuyer_LikeHeader_Query_graphql.node, RescriptRelay_Internal.internal_cleanObjectFromUndefinedRaw(HeaderBuyer_LikeHeader_Query_graphql.Internal.convertVariables(variables)), {
        fetchKey: fetchKey,
        fetchPolicy: RescriptRelay.mapFetchPolicy(fetchPolicy),
        networkCacheConfig: networkCacheConfig
      });
  return RescriptRelay_Internal.internal_useConvertedValue(HeaderBuyer_LikeHeader_Query_graphql.Internal.convertResponse, data);
}

function useLoader(param) {
  var match = ReactRelay.useQueryLoader(HeaderBuyer_LikeHeader_Query_graphql.node);
  var loadQueryFn = match[1];
  var loadQuery = React.useMemo((function () {
          return function (param, param$1, param$2, param$3) {
            return Curry._2(loadQueryFn, HeaderBuyer_LikeHeader_Query_graphql.Internal.convertVariables(param), {
                        fetchPolicy: param$1,
                        networkCacheConfig: param$2
                      });
          };
        }), [loadQueryFn]);
  return [
          Caml_option.nullable_to_opt(match[0]),
          loadQuery,
          match[2]
        ];
}

function $$fetch(environment, variables, onResult, networkCacheConfig, fetchPolicy, param) {
  ReactRelay.fetchQuery(environment, HeaderBuyer_LikeHeader_Query_graphql.node, HeaderBuyer_LikeHeader_Query_graphql.Internal.convertVariables(variables), {
          networkCacheConfig: networkCacheConfig,
          fetchPolicy: RescriptRelay.mapFetchQueryFetchPolicy(fetchPolicy)
        }).subscribe({
        next: (function (res) {
            Curry._1(onResult, {
                  TAG: /* Ok */0,
                  _0: HeaderBuyer_LikeHeader_Query_graphql.Internal.convertResponse(res)
                });
          }),
        error: (function (err) {
            Curry._1(onResult, {
                  TAG: /* Error */1,
                  _0: err
                });
          })
      });
}

function fetchPromised(environment, variables, networkCacheConfig, fetchPolicy, param) {
  var __x = ReactRelay.fetchQuery(environment, HeaderBuyer_LikeHeader_Query_graphql.node, HeaderBuyer_LikeHeader_Query_graphql.Internal.convertVariables(variables), {
          networkCacheConfig: networkCacheConfig,
          fetchPolicy: RescriptRelay.mapFetchQueryFetchPolicy(fetchPolicy)
        }).toPromise();
  return Js_promise.then_((function (res) {
                return Promise.resolve(HeaderBuyer_LikeHeader_Query_graphql.Internal.convertResponse(res));
              }), __x);
}

function usePreloaded(queryRef, param) {
  var data = ReactRelay.usePreloadedQuery(HeaderBuyer_LikeHeader_Query_graphql.node, queryRef);
  return RescriptRelay_Internal.internal_useConvertedValue(HeaderBuyer_LikeHeader_Query_graphql.Internal.convertResponse, data);
}

function retain(environment, variables) {
  var operationDescriptor = RelayRuntime.createOperationDescriptor(HeaderBuyer_LikeHeader_Query_graphql.node, HeaderBuyer_LikeHeader_Query_graphql.Internal.convertVariables(variables));
  return environment.retain(operationDescriptor);
}

var Query = {
  Operation: undefined,
  Types: undefined,
  use: use,
  useLoader: useLoader,
  $$fetch: $$fetch,
  fetchPromised: fetchPromised,
  usePreloaded: usePreloaded,
  retain: retain
};

function Header_Buyer$Mobile$LikeHeader(Props) {
  var count = Belt_Option.map(use(undefined, undefined, undefined, undefined, undefined).viewer, (function (viewer) {
          return viewer.likedProductCount;
        }));
  return React.createElement(Header_Buyer$Mobile$WithNumber, {
              title: "찜한 상품",
              count: count
            });
}

var LikeHeader = {
  Query: Query,
  make: Header_Buyer$Mobile$LikeHeader
};

function use$1(variables, fetchPolicy, fetchKey, networkCacheConfig, param) {
  var data = ReactRelay.useLazyLoadQuery(HeaderBuyer_RecentHeader_Query_graphql.node, RescriptRelay_Internal.internal_cleanObjectFromUndefinedRaw(HeaderBuyer_RecentHeader_Query_graphql.Internal.convertVariables(variables)), {
        fetchKey: fetchKey,
        fetchPolicy: RescriptRelay.mapFetchPolicy(fetchPolicy),
        networkCacheConfig: networkCacheConfig
      });
  return RescriptRelay_Internal.internal_useConvertedValue(HeaderBuyer_RecentHeader_Query_graphql.Internal.convertResponse, data);
}

function useLoader$1(param) {
  var match = ReactRelay.useQueryLoader(HeaderBuyer_RecentHeader_Query_graphql.node);
  var loadQueryFn = match[1];
  var loadQuery = React.useMemo((function () {
          return function (param, param$1, param$2, param$3) {
            return Curry._2(loadQueryFn, HeaderBuyer_RecentHeader_Query_graphql.Internal.convertVariables(param), {
                        fetchPolicy: param$1,
                        networkCacheConfig: param$2
                      });
          };
        }), [loadQueryFn]);
  return [
          Caml_option.nullable_to_opt(match[0]),
          loadQuery,
          match[2]
        ];
}

function $$fetch$1(environment, variables, onResult, networkCacheConfig, fetchPolicy, param) {
  ReactRelay.fetchQuery(environment, HeaderBuyer_RecentHeader_Query_graphql.node, HeaderBuyer_RecentHeader_Query_graphql.Internal.convertVariables(variables), {
          networkCacheConfig: networkCacheConfig,
          fetchPolicy: RescriptRelay.mapFetchQueryFetchPolicy(fetchPolicy)
        }).subscribe({
        next: (function (res) {
            Curry._1(onResult, {
                  TAG: /* Ok */0,
                  _0: HeaderBuyer_RecentHeader_Query_graphql.Internal.convertResponse(res)
                });
          }),
        error: (function (err) {
            Curry._1(onResult, {
                  TAG: /* Error */1,
                  _0: err
                });
          })
      });
}

function fetchPromised$1(environment, variables, networkCacheConfig, fetchPolicy, param) {
  var __x = ReactRelay.fetchQuery(environment, HeaderBuyer_RecentHeader_Query_graphql.node, HeaderBuyer_RecentHeader_Query_graphql.Internal.convertVariables(variables), {
          networkCacheConfig: networkCacheConfig,
          fetchPolicy: RescriptRelay.mapFetchQueryFetchPolicy(fetchPolicy)
        }).toPromise();
  return Js_promise.then_((function (res) {
                return Promise.resolve(HeaderBuyer_RecentHeader_Query_graphql.Internal.convertResponse(res));
              }), __x);
}

function usePreloaded$1(queryRef, param) {
  var data = ReactRelay.usePreloadedQuery(HeaderBuyer_RecentHeader_Query_graphql.node, queryRef);
  return RescriptRelay_Internal.internal_useConvertedValue(HeaderBuyer_RecentHeader_Query_graphql.Internal.convertResponse, data);
}

function retain$1(environment, variables) {
  var operationDescriptor = RelayRuntime.createOperationDescriptor(HeaderBuyer_RecentHeader_Query_graphql.node, HeaderBuyer_RecentHeader_Query_graphql.Internal.convertVariables(variables));
  return environment.retain(operationDescriptor);
}

var Query$1 = {
  Operation: undefined,
  Types: undefined,
  use: use$1,
  useLoader: useLoader$1,
  $$fetch: $$fetch$1,
  fetchPromised: fetchPromised$1,
  usePreloaded: usePreloaded$1,
  retain: retain$1
};

function Header_Buyer$Mobile$RecentHeader(Props) {
  var count = Belt_Option.map(use$1(undefined, undefined, undefined, undefined, undefined).viewer, (function (viewer) {
          return viewer.viewedProductCount;
        }));
  return React.createElement(Header_Buyer$Mobile$WithNumber, {
              title: "최근 본 상품",
              count: count
            });
}

var RecentHeader = {
  Query: Query$1,
  make: Header_Buyer$Mobile$RecentHeader
};

function Header_Buyer$Mobile$GnbHome(Props) {
  var router = Router.useRouter();
  var user = Curry._1(CustomHooks.User.Buyer.use2, undefined);
  var redirect = Js_dict.get(router.query, "redirect");
  var redirectUrl;
  if (redirect !== undefined) {
    redirectUrl = new URLSearchParams(Js_dict.fromArray([[
                  "redirect",
                  redirect
                ]])).toString();
  } else {
    var isSignInOrUp = router.asPath.includes("signin") || router.asPath.includes("signup");
    redirectUrl = isSignInOrUp ? "" : new URLSearchParams(Js_dict.fromArray([[
                    "redirect",
                    router.asPath
                  ]])).toString();
  }
  return React.createElement("div", {
              className: "w-full bg-white"
            }, React.createElement("header", {
                  className: "w-full max-w-3xl mx-auto h-14 flex items-center px-3 bg-white"
                }, React.createElement("div", {
                      className: "h-6 w-6 flex-1"
                    }), React.createElement("img", {
                      className: "w-[88px] h-7 object-contain flex-1",
                      alt: "신선하이 로고",
                      src: "/assets/sinsunhi-logo.svg"
                    }), React.createElement("div", {
                      className: "flex justify-end flex-1"
                    }, typeof user === "number" ? (
                        user !== 0 ? React.createElement("div", {
                                className: "flex items-center gap-2"
                              }, React.createElement(CartLinkIcon.make, {}), React.createElement(Link, {
                                    href: "/buyer/signin?" + redirectUrl + "",
                                    children: React.createElement("a", {
                                          className: "px-3 py-[6px] bg-green-50 flex items-center justify-center rounded-full text-[15px] text-green-500"
                                        }, "로그인")
                                  })) : React.createElement("div", {
                                className: "w-20 h-6 bg-gray-150 animate-pulse rounded-lg"
                              })
                      ) : React.createElement(CartLinkIcon.make, {}))));
}

var GnbHome = {
  make: Header_Buyer$Mobile$GnbHome
};

function Header_Buyer$Mobile$Search(Props) {
  var router = Router.useRouter();
  return React.createElement(React.Fragment, undefined, React.createElement("div", {
                  className: "w-full fixed top-0 left-0 z-10 bg-white"
                }, React.createElement("div", {
                      className: "w-full max-w-3xl mx-auto h-14 py-2 px-3 bg-white flex items-center gap-2"
                    }, React.createElement("button", {
                          type: "button",
                          onClick: (function (param) {
                              router.back();
                            })
                        }, React.createElement("img", {
                              className: "w-6 h-6",
                              alt: "뒤로가기",
                              src: arrowLeftLineIcon
                            })), React.createElement("div", {
                          className: "w-full mr-1"
                        }, React.createElement(ShopSearchInput_Buyer.MO.make, {})), React.createElement(FeatureFlagWrapper.make, {
                          children: null,
                          fallback: React.createElement(CartLinkIcon.make, {}),
                          featureFlag: "HOME_UI_UX"
                        }))), React.createElement("div", {
                  className: "w-full h-14"
                }));
}

var Search = {
  make: Header_Buyer$Mobile$Search
};

function Header_Buyer$Mobile(Props) {
  var router = Router.useRouter();
  var pathnames = Belt_Array.keep(router.pathname.split("/"), (function (x) {
          return x !== "";
        }));
  var first = Belt_Array.get(pathnames, 0);
  var second = Belt_Array.get(pathnames, 1);
  var third = Belt_Array.get(pathnames, 2);
  var tmp;
  var exit = 0;
  if (first !== undefined) {
    switch (first) {
      case "auction-price" :
          tmp = React.createElement(Header_Buyer$Mobile$Normal, {
                title: "전국 농산물 경매가"
              });
          break;
      case "buyer" :
          if (second !== undefined) {
            switch (second) {
              case "cart" :
                  tmp = React.createElement(Header_Buyer$Mobile$Normal, {
                        title: "장바구니"
                      });
                  break;
              case "download-center" :
                  tmp = React.createElement(Header_Buyer$Mobile$Normal, {
                        title: "다운로드 센터"
                      });
                  break;
              case "me" :
                  if (third !== undefined) {
                    switch (third) {
                      case "account" :
                          tmp = React.createElement(Header_Buyer$Mobile$NoHome, {
                                title: "계정정보"
                              });
                          break;
                      case "like" :
                          tmp = React.createElement(Header_Buyer$Mobile$LikeHeader, {});
                          break;
                      case "profile" :
                          tmp = React.createElement(Header_Buyer$Mobile$NoHome, {
                                title: "프로필정보"
                              });
                          break;
                      case "recent-view" :
                          tmp = React.createElement(Header_Buyer$Mobile$RecentHeader, {});
                          break;
                      default:
                        tmp = React.createElement(Header_Buyer$Mobile$TitleOnly, {
                              title: "마이페이지"
                            });
                    }
                  } else {
                    tmp = React.createElement(Header_Buyer$Mobile$TitleOnly, {
                          title: "마이페이지"
                        });
                  }
                  break;
              case "orders" :
                  tmp = React.createElement(Header_Buyer$Mobile$Normal, {
                        title: "주문 내역"
                      });
                  break;
              case "products" :
                  if (third === "advanced-search") {
                    tmp = React.createElement(Header_Buyer$Mobile$Normal, {
                          title: "상품 검색"
                        });
                  } else {
                    exit = 1;
                  }
                  break;
              case "signin" :
                  tmp = third !== undefined ? (
                      third === "find-id-password" ? React.createElement(Header_Buyer$Mobile$Normal, {
                              title: ""
                            }) : React.createElement(Header_Buyer$Mobile$Normal, {
                              title: "로그인"
                            })
                    ) : React.createElement(Header_Buyer$Mobile$Normal, {
                          title: "로그인"
                        });
                  break;
              case "signup" :
                  tmp = React.createElement(Header_Buyer$Mobile$Normal, {
                        title: "사업자 회원가입"
                      });
                  break;
              case "transactions" :
                  tmp = React.createElement(Header_Buyer$Mobile$Normal, {
                        title: "결제 내역"
                      });
                  break;
              case "upload" :
                  tmp = React.createElement(Header_Buyer$Mobile$Normal, {
                        title: "주문서 업로드"
                      });
                  break;
              case "web-order" :
                  tmp = third !== undefined ? (
                      third === "complete" ? React.createElement(Header_Buyer$Mobile$Normal, {
                              title: "주문 완료"
                            }) : React.createElement(Header_Buyer$Mobile$Normal, {
                              title: "주문·결제"
                            })
                    ) : React.createElement(Header_Buyer$Mobile$Normal, {
                          title: "주문·결제"
                        });
                  break;
              default:
                exit = 1;
            }
          } else {
            tmp = React.createElement(Header_Buyer$Mobile$GnbHome, {});
          }
          break;
      case "delivery" :
          tmp = second !== undefined ? React.createElement(Header_Buyer$Mobile$BackAndCart, {
                  title: "신선배송"
                }) : React.createElement(Header_Buyer$Mobile$BackAndCart, {
                  title: "신선배송"
                });
          break;
      case "matching" :
          tmp = second !== undefined ? React.createElement(Header_Buyer$Mobile$Normal, {
                  title: "신선매칭"
                }) : React.createElement(Header_Buyer$Mobile$NoHome, {
                  title: "신선매칭"
                });
          break;
      case "menu" :
          tmp = React.createElement(Header_Buyer$Mobile$TitleOnly, {
                title: "카테고리"
              });
          break;
      case "products" :
          if (second !== undefined && second === "advanced-search" && third === undefined) {
            tmp = React.createElement(Header_Buyer$Mobile$Normal, {
                  title: "상품 검색"
                });
          } else {
            exit = 1;
          }
          break;
      case "saved-products" :
          tmp = React.createElement(Header_Buyer$Mobile$TitleOnly, {
                title: "저장된 상품"
              });
          break;
      case "search" :
          tmp = React.createElement(Header_Buyer$Mobile$Search, {});
          break;
      default:
        exit = 1;
    }
  } else {
    exit = 1;
  }
  if (exit === 1) {
    tmp = React.createElement(Header_Buyer$Mobile$Normal, {
          title: ""
        });
  }
  return React.createElement(React.Fragment, undefined, React.createElement(AppLink_Header.make, {}), tmp);
}

var Mobile = {
  LoggedInUserMenu: LoggedInUserMenu,
  Normal: Normal,
  BackAndCart: BackAndCart,
  NoBack: NoBack,
  TitleOnly: TitleOnly,
  NoHome: NoHome,
  WithNumber: WithNumber,
  LikeHeader: LikeHeader,
  RecentHeader: RecentHeader,
  GnbHome: GnbHome,
  Search: Search,
  make: Header_Buyer$Mobile
};

function Header_Buyer$PC_Old$LoggedInUserMenu(Props) {
  var user = Props.user;
  var logOut = function (param) {
    return ReactEvents.interceptingHandler((function (param) {
                  CustomHooks.Auth.logOut(undefined);
                  ChannelTalkHelper.logout(undefined);
                  Redirect.setHref("/");
                }), param);
  };
  var itemStyle = "cursor-pointer w-full h-full py-3 px-8 whitespace-nowrap flex items-center justify-center";
  return React.createElement("div", {
              className: "relative flex items-center h-16",
              id: "gnb-user"
            }, React.createElement(ReactDropdownMenu.Root, {
                  children: null
                }, React.createElement(ReactDropdownMenu.Trigger, {
                      children: React.createElement("div", {
                            className: "flex items-center"
                          }, React.createElement("span", {
                                className: "text-base text-gray-800"
                              }, Belt_Option.getWithDefault(user.email, "")), React.createElement("span", {
                                className: "relative ml-1"
                              }, React.createElement(IconArrowSelect.make, {
                                    height: "22",
                                    width: "22",
                                    fill: "#262626"
                                  }))),
                      className: "focus:outline-none"
                    }), React.createElement(ReactDropdownMenu.Content, {
                      children: null,
                      align: "end",
                      className: "dropdown-content p-1 w-[140px] bg-white rounded-lg shadow-md divide-y text-gray-800"
                    }, React.createElement(ReactDropdownMenu.Item, {
                          children: React.createElement(Link, {
                                href: "/buyer/me",
                                children: React.createElement("a", {
                                      className: itemStyle
                                    }, React.createElement("span", undefined, "마이페이지"))
                              }),
                          className: "focus:outline-none"
                        }), React.createElement(ReactDropdownMenu.Item, {
                          children: React.createElement(Link, {
                                href: "/buyer/orders",
                                children: React.createElement("a", {
                                      className: itemStyle
                                    }, React.createElement("span", undefined, "주문내역"))
                              }),
                          className: "focus:outline-none"
                        }), React.createElement(ReactDropdownMenu.Item, {
                          children: React.createElement(Link, {
                                href: "/buyer/transactions",
                                children: React.createElement("a", {
                                      className: itemStyle
                                    }, React.createElement("span", undefined, "결제내역"))
                              }),
                          className: "focus:outline-none"
                        }), React.createElement(ReactDropdownMenu.Item, {
                          children: React.createElement(Link, {
                                href: "/products/advanced-search",
                                children: React.createElement("a", {
                                      className: itemStyle
                                    }, React.createElement("span", undefined, "단품확인"))
                              }),
                          className: "focus:outline-none"
                        }), React.createElement(ReactDropdownMenu.Item, {
                          children: React.createElement("button", {
                                className: itemStyle,
                                type: "button",
                                onClick: logOut
                              }, React.createElement("span", undefined, "로그아웃")),
                          className: "focus:outline-none"
                        }))));
}

var LoggedInUserMenu$1 = {
  make: Header_Buyer$PC_Old$LoggedInUserMenu
};

function Header_Buyer$PC_Old$NotLoggedInUserMenu(Props) {
  var router = Router.useRouter();
  var redirect = Js_dict.get(router.query, "redirect");
  var redirectUrl;
  if (redirect !== undefined) {
    redirectUrl = new URLSearchParams(Js_dict.fromArray([[
                  "redirect",
                  redirect
                ]])).toString();
  } else {
    var isSignInOrUp = router.asPath.includes("signin") || router.asPath.includes("signup");
    redirectUrl = isSignInOrUp ? "" : new URLSearchParams(Js_dict.fromArray([[
                    "redirect",
                    router.asPath
                  ]])).toString();
  }
  var buttonStyle = "ml-2 py-2 px-4 bg-green-50 flex items-center justify-center rounded-full text-sm text-green-500 cursor-pointer";
  return React.createElement("div", {
              className: "flex items-center justify-center h-16"
            }, React.createElement(Link, {
                  href: "/buyer/signin?" + redirectUrl + "",
                  children: React.createElement("a", {
                        className: buttonStyle
                      }, "로그인")
                }), React.createElement(Link, {
                  href: "/buyer/signup?" + redirectUrl + "",
                  children: React.createElement("a", {
                        className: buttonStyle
                      }, "사업자 회원가입")
                }));
}

var NotLoggedInUserMenu = {
  make: Header_Buyer$PC_Old$NotLoggedInUserMenu
};

function Header_Buyer$PC_Old(Props) {
  var user = Curry._1(CustomHooks.User.Buyer.use2, undefined);
  var match = typeof user === "number" ? [
      "/buyer/signin",
      "_self"
    ] : [
      "https://drive.google.com/drive/u/0/folders/1DbaGUxpkYnJMrl4RPKRzpCqTfTUH7bYN",
      "_blank"
    ];
  var oldUI = React.createElement(React.Fragment, undefined, React.createElement(AppLink_Header.make, {}), React.createElement("header", {
            className: "w-full min-w-[1280px] fixed top-0 bg-white z-10"
          }, React.createElement("div", {
                className: "w-full flex justify-between items-center py-4 px-10"
              }, React.createElement("div", {
                    className: "flex items-center"
                  }, React.createElement(Link, {
                        href: "/",
                        children: React.createElement("a", undefined, React.createElement("img", {
                                  className: "w-[120px] h-10 object-contain",
                                  alt: "신선하이 홈으로 바로가기",
                                  src: "/assets/sinsunhi-logo.svg"
                                }))
                      }), React.createElement("div", {
                        className: "ml-12"
                      }, React.createElement(ShopSearchInput_Buyer.make, {}))), React.createElement("div", {
                    className: "flex items-center"
                  }, React.createElement("span", undefined, typeof user === "number" ? (
                          user !== 0 ? React.createElement("div", {
                                  className: "flex items-center gap-2"
                                }, React.createElement(CartLinkIcon.make, {}), React.createElement(Header_Buyer$PC_Old$NotLoggedInUserMenu, {})) : React.createElement("div", {
                                  className: "h-16 flex items-center"
                                }, React.createElement("div", {
                                      className: "w-40 h-6 bg-gray-150 animate-pulse rounded-lg"
                                    }))
                        ) : React.createElement("div", {
                              className: "flex items-center gap-5"
                            }, React.createElement(CartLinkIcon.make, {}), React.createElement(Header_Buyer$PC_Old$LoggedInUserMenu, {
                                  user: user._0
                                }))))), React.createElement("nav", {
                className: "flex items-center justify-between pr-10 pl-2 border-y"
              }, React.createElement("div", {
                    className: "h-14 flex items-center divide-x"
                  }, React.createElement(RescriptReactErrorBoundary.make, {
                        children: React.createElement(React.Suspense, {
                              children: React.createElement(ShopCategorySelect_Buyer.make, {}),
                              fallback: null
                            }),
                        fallback: (function (param) {
                            return null;
                          })
                      }), React.createElement(RescriptReactErrorBoundary.make, {
                        children: React.createElement(React.Suspense, {
                              children: React.createElement(GnbBannerList_Buyer.make, {}),
                              fallback: null
                            }),
                        fallback: (function (param) {
                            return null;
                          })
                      })), React.createElement("div", {
                    className: "flex items-center text-base text-gray-800"
                  }, React.createElement(Link, {
                        href: match[0],
                        children: React.createElement("a", {
                              className: "ml-4 cursor-pointer",
                              target: match[1]
                            }, "판매자료 다운로드")
                      }), React.createElement(Link, {
                        href: "/buyer/upload",
                        children: React.createElement("a", {
                              className: "ml-4 cursor-pointer"
                            }, "주문서 업로드")
                      }), React.createElement(Link, {
                        href: "https://shinsunmarket.co.kr/532",
                        children: React.createElement("a", {
                              className: "ml-4 cursor-pointer",
                              target: "_blank"
                            }, "고객지원")
                      })))), React.createElement("div", {
            className: "w-full h-[154px]"
          }));
  return React.createElement(FeatureFlagWrapper.make, {
              children: React.createElement(PC_Header.Buyer.make, {}),
              fallback: oldUI,
              featureFlag: "HOME_UI_UX",
              suspenseFallback: React.createElement(PC_Header.Buyer.Placeholder.make, {})
            });
}

var PC_Old = {
  LoggedInUserMenu: LoggedInUserMenu$1,
  NotLoggedInUserMenu: NotLoggedInUserMenu,
  make: Header_Buyer$PC_Old
};

function Header_Buyer$PC$LoggedInUserMenu(Props) {
  var user = Props.user;
  var logOut = function (param) {
    return ReactEvents.interceptingHandler((function (param) {
                  CustomHooks.Auth.logOut(undefined);
                  ChannelTalkHelper.logout(undefined);
                  Redirect.setHref("/");
                }), param);
  };
  var itemStyle = "cursor-pointer w-full h-full py-3 px-8 whitespace-nowrap flex items-center justify-center";
  return React.createElement("div", {
              className: "relative flex items-center h-16",
              id: "gnb-user"
            }, React.createElement(ReactDropdownMenu.Root, {
                  children: null
                }, React.createElement(ReactDropdownMenu.Trigger, {
                      children: React.createElement("div", {
                            className: "flex items-center"
                          }, React.createElement("span", {
                                className: "text-base text-gray-800"
                              }, Belt_Option.getWithDefault(user.email, "")), React.createElement("span", {
                                className: "relative ml-1"
                              }, React.createElement(IconArrowSelect.make, {
                                    height: "22",
                                    width: "22",
                                    fill: "#262626"
                                  }))),
                      className: "focus:outline-none"
                    }), React.createElement(ReactDropdownMenu.Content, {
                      children: null,
                      align: "end",
                      className: "dropdown-content p-1 w-[140px] bg-white rounded-lg shadow-md divide-y text-gray-800"
                    }, React.createElement(ReactDropdownMenu.Item, {
                          children: React.createElement(Link, {
                                href: "/buyer/me",
                                children: React.createElement("a", {
                                      className: itemStyle
                                    }, React.createElement("span", undefined, "마이페이지"))
                              }),
                          className: "focus:outline-none"
                        }), React.createElement(ReactDropdownMenu.Item, {
                          children: React.createElement(Link, {
                                href: "/buyer/orders",
                                children: React.createElement("a", {
                                      className: itemStyle
                                    }, React.createElement("span", undefined, "주문내역"))
                              }),
                          className: "focus:outline-none"
                        }), React.createElement(ReactDropdownMenu.Item, {
                          children: React.createElement(Link, {
                                href: "/buyer/transactions",
                                children: React.createElement("a", {
                                      className: itemStyle
                                    }, React.createElement("span", undefined, "결제내역"))
                              }),
                          className: "focus:outline-none"
                        }), React.createElement(ReactDropdownMenu.Item, {
                          children: React.createElement(Link, {
                                href: "/products/advanced-search",
                                children: React.createElement("a", {
                                      className: itemStyle
                                    }, React.createElement("span", undefined, "단품확인"))
                              }),
                          className: "focus:outline-none"
                        }), React.createElement(ReactDropdownMenu.Item, {
                          children: React.createElement("button", {
                                className: itemStyle,
                                type: "button",
                                onClick: logOut
                              }, React.createElement("span", undefined, "로그아웃")),
                          className: "focus:outline-none"
                        }))));
}

var LoggedInUserMenu$2 = {
  make: Header_Buyer$PC$LoggedInUserMenu
};

function Header_Buyer$PC$NotLoggedInUserMenu(Props) {
  var router = Router.useRouter();
  var redirect = Js_dict.get(router.query, "redirect");
  var redirectUrl;
  if (redirect !== undefined) {
    redirectUrl = new URLSearchParams(Js_dict.fromArray([[
                  "redirect",
                  redirect
                ]])).toString();
  } else {
    var isSignInOrUp = router.asPath.includes("signin") || router.asPath.includes("signup");
    redirectUrl = isSignInOrUp ? "" : new URLSearchParams(Js_dict.fromArray([[
                    "redirect",
                    router.asPath
                  ]])).toString();
  }
  var buttonStyle = "ml-2 py-2 px-4 bg-green-50 flex items-center justify-center rounded-full text-sm text-green-500 cursor-pointer";
  return React.createElement("div", {
              className: "flex items-center justify-center h-16"
            }, React.createElement(Link, {
                  href: "/buyer/signin?" + redirectUrl + "",
                  children: React.createElement("a", {
                        className: buttonStyle
                      }, "로그인")
                }), React.createElement(Link, {
                  href: "/buyer/signup?" + redirectUrl + "",
                  children: React.createElement("a", {
                        className: buttonStyle
                      }, "사업자 회원가입")
                }));
}

var NotLoggedInUserMenu$1 = {
  make: Header_Buyer$PC$NotLoggedInUserMenu
};

function Header_Buyer$PC(Props) {
  var user = Curry._1(CustomHooks.User.Buyer.use2, undefined);
  var match = typeof user === "number" ? [
      "/buyer/signin",
      "_self"
    ] : [
      "https://drive.google.com/drive/u/0/folders/1DbaGUxpkYnJMrl4RPKRzpCqTfTUH7bYN",
      "_blank"
    ];
  var oldUI = React.createElement(React.Fragment, undefined, React.createElement(AppLink_Header.make, {}), React.createElement("header", {
            className: "w-full sticky top-0 bg-white z-10 min-w-[1280px]"
          }, React.createElement("div", {
                className: "w-full flex justify-between items-center py-4 px-10"
              }, React.createElement("div", {
                    className: "flex items-center"
                  }, React.createElement(Link, {
                        href: "/",
                        children: React.createElement("a", undefined, React.createElement("img", {
                                  className: "w-[120px] h-10 object-contain",
                                  alt: "신선하이 홈으로 바로가기",
                                  src: "/assets/sinsunhi-logo.svg"
                                }))
                      }), React.createElement("div", {
                        className: "ml-12"
                      }, React.createElement(ShopSearchInput_Buyer.make, {}))), React.createElement("div", {
                    className: "flex items-center"
                  }, React.createElement("span", undefined, typeof user === "number" ? (
                          user !== 0 ? React.createElement("div", {
                                  className: "flex items-center gap-2"
                                }, React.createElement(CartLinkIcon.make, {}), React.createElement(Header_Buyer$PC$NotLoggedInUserMenu, {})) : React.createElement("div", {
                                  className: "h-16 flex items-center"
                                }, React.createElement("div", {
                                      className: "w-40 h-6 bg-gray-150 animate-pulse rounded-lg"
                                    }))
                        ) : React.createElement("div", {
                              className: "flex items-center gap-5"
                            }, React.createElement(CartLinkIcon.make, {}), React.createElement(Header_Buyer$PC$LoggedInUserMenu, {
                                  user: user._0
                                }))))), React.createElement("nav", {
                className: "flex items-center justify-between pr-10 pl-2 border-y"
              }, React.createElement("div", {
                    className: "h-14 flex items-center divide-x"
                  }, React.createElement(ShopCategorySelect_Buyer.make, {}), React.createElement(RescriptReactErrorBoundary.make, {
                        children: React.createElement(React.Suspense, {
                              children: React.createElement(GnbBannerList_Buyer.make, {}),
                              fallback: null
                            }),
                        fallback: (function (param) {
                            return null;
                          })
                      })), React.createElement("div", {
                    className: "flex items-center text-base text-gray-800"
                  }, React.createElement(Link, {
                        href: match[0],
                        children: React.createElement("a", {
                              className: "ml-4 cursor-pointer",
                              target: match[1]
                            }, "판매자료 다운로드")
                      }), React.createElement(Link, {
                        href: "/buyer/upload",
                        children: React.createElement("a", {
                              className: "ml-4 cursor-pointer"
                            }, "주문서 업로드")
                      }), React.createElement(Link, {
                        href: "https://shinsunmarket.co.kr/532",
                        children: React.createElement("a", {
                              className: "ml-4 cursor-pointer",
                              target: "_blank"
                            }, "고객지원")
                      })))));
  return React.createElement(FeatureFlagWrapper.make, {
              children: React.createElement(PC_Header.Buyer.make, {}),
              fallback: oldUI,
              featureFlag: "HOME_UI_UX",
              suspenseFallback: React.createElement(PC_Header.Buyer.Placeholder.make, {})
            });
}

var PC = {
  LoggedInUserMenu: LoggedInUserMenu$2,
  NotLoggedInUserMenu: NotLoggedInUserMenu$1,
  make: Header_Buyer$PC
};

export {
  arrowLeftLineIcon ,
  Mobile ,
  PC_Old ,
  PC ,
}
/* arrowLeftLineIcon Not a pure module */
