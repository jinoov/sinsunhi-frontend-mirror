// Generated by ReScript, PLEASE EDIT WITH CARE

import * as React from "react";
import * as Js_dict from "rescript/lib/es6/js_dict.js";
import * as Converter from "../utils/Converter.mjs";
import * as Belt_Option from "rescript/lib/es6/belt_Option.js";
import * as Caml_option from "rescript/lib/es6/caml_option.js";
import * as CustomHooks from "../utils/CustomHooks.mjs";
import * as Router from "next/router";
import * as Garter_Array from "@greenlabs/garter/src/Garter_Array.mjs";
import * as IconArrowSelect from "./svgs/IconArrowSelect.mjs";

function getKind(q) {
  return Belt_Option.flatMap(Js_dict.get(q, "type"), (function (type_) {
                var type_$p = CustomHooks.Transaction.kind_decode(type_);
                if (type_$p.TAG === /* Ok */0) {
                  return type_$p._0;
                }
                
              }));
}

function Select_Transaction_Status(Props) {
  var className = Props.className;
  var router = Router.useRouter();
  var onChange = function (e) {
    var type_ = e.target.value;
    router.query["type"] = type_;
    router.query["offset"] = "0";
    router.push("" + router.pathname + "?" + new URLSearchParams(router.query).toString() + "");
  };
  var tmp = {};
  if (className !== undefined) {
    tmp.className = Caml_option.valFromOption(className);
  }
  return React.createElement("span", tmp, React.createElement("label", {
                  className: "block relative"
                }, React.createElement("span", {
                      className: "w-36 flex items-center border border-border-default-L1 rounded-md h-9 px-3 text-enabled-L1"
                    }, Belt_Option.mapWithDefault(getKind(router.query), "전체 정산유형", Converter.displayTransactionKind)), React.createElement("span", {
                      className: "absolute top-1.5 right-2"
                    }, React.createElement(IconArrowSelect.make, {
                          height: "24",
                          width: "24",
                          fill: "#121212"
                        })), React.createElement("select", {
                      className: "block w-full h-full absolute top-0 opacity-0",
                      value: Belt_Option.getWithDefault(Js_dict.get(router.query, "type"), "all"),
                      onChange: onChange
                    }, React.createElement("option", {
                          key: "all",
                          value: ""
                        }, "전체 정산유형"), Garter_Array.map([
                          /* OrderComplete */0,
                          /* CashRefund */1,
                          /* ImwebPay */2,
                          /* ImwebCancel */3,
                          /* OrderCancel */4,
                          /* OrderRefundDeliveryDelayed */5,
                          /* OrderRefundDefectiveProduct */6,
                          /* SinsunCash */7
                        ], (function (t) {
                            return React.createElement("option", {
                                        key: Converter.getStringFromJsonWithDefault(CustomHooks.Transaction.kind_encode(t), ""),
                                        value: Converter.getStringFromJsonWithDefault(CustomHooks.Transaction.kind_encode(t), "")
                                      }, Converter.displayTransactionKind(t));
                          })))));
}

var make = Select_Transaction_Status;

export {
  getKind ,
  make ,
}
/* react Not a pure module */
