// Generated by ReScript, PLEASE EDIT WITH CARE

import * as React from "@rescript/react/src/React.mjs";
import * as React$1 from "react";
import * as Caml_option from "rescript/lib/es6/caml_option.js";
import * as Router from "next/router";
import * as ReactRelay from "react-relay";
import * as Footer_Buyer from "../../../../components/Footer_Buyer.mjs";
import * as PDP_Header_Buyer from "../PDP_Header_Buyer.mjs";
import * as Js_null_undefined from "rescript/lib/es6/js_null_undefined.js";
import * as RescriptRelay_Internal from "rescript-relay/src/RescriptRelay_Internal.mjs";
import * as PDP_Matching_Image_Buyer from "./PDP_Matching_Image_Buyer.mjs";
import * as PDP_Matching_Title_Buyer from "./PDP_Matching_Title_Buyer.mjs";
import * as PDP_Matching_Modals_Buyer from "./PDP_Matching_Modals_Buyer.mjs";
import * as PDP_Matching_Submit_Buyer from "./PDP_Matching_Submit_Buyer.mjs";
import * as PDP_Matching_Demeter_Buyer from "./PDP_Matching_Demeter_Buyer.mjs";
import * as PDP_Matching_Details_Buyer from "./PDP_Matching_Details_Buyer.mjs";
import * as PDP_Matching_Estimator_Buyer from "./PDP_Matching_Estimator_Buyer.mjs";
import * as PDP_Matching_GradeGuide_Buyer from "./PDP_Matching_GradeGuide_Buyer.mjs";
import * as PDP_Matching_SelectGrade_Buyer from "./PDP_Matching_SelectGrade_Buyer.mjs";
import * as PDP_Matching_ServiceGuide_Buyer from "./PDP_Matching_ServiceGuide_Buyer.mjs";
import * as PDPMatchingBuyer_fragment_graphql from "../../../../__generated__/PDPMatchingBuyer_fragment_graphql.mjs";

function use(fRef) {
  var data = ReactRelay.useFragment(PDPMatchingBuyer_fragment_graphql.node, fRef);
  return RescriptRelay_Internal.internal_useConvertedValue(PDPMatchingBuyer_fragment_graphql.Internal.convertFragment, data);
}

function useOpt(opt_fRef) {
  var fr = opt_fRef !== undefined ? Caml_option.some(Caml_option.valFromOption(opt_fRef)) : undefined;
  var nullableFragmentData = ReactRelay.useFragment(PDPMatchingBuyer_fragment_graphql.node, fr !== undefined ? Js_null_undefined.fromOption(Caml_option.some(Caml_option.valFromOption(fr))) : null);
  var data = (nullableFragmentData == null) ? undefined : Caml_option.some(nullableFragmentData);
  return RescriptRelay_Internal.internal_useConvertedValue((function (rawFragment) {
                if (rawFragment !== undefined) {
                  return PDPMatchingBuyer_fragment_graphql.Internal.convertFragment(rawFragment);
                }
                
              }), data);
}

var Fragment = {
  Types: undefined,
  Operation: undefined,
  use: use,
  useOpt: useOpt
};

function PDP_Matching_Buyer$MO$Divider(props) {
  return React$1.createElement("div", {
              className: "w-full h-3 bg-gray-100"
            });
}

var Divider = {
  make: PDP_Matching_Buyer$MO$Divider
};

function PDP_Matching_Buyer$MO(props) {
  var router = Router.useRouter();
  var match = use(props.query);
  var fragmentRefs = match.fragmentRefs;
  var match$1 = React$1.useState(function () {
        return /* Hide */0;
      });
  var setShowModal = match$1[1];
  var match$2 = React$1.useState(function () {
        return "high";
      });
  var selectedGroup = match$2[0];
  return React$1.createElement("div", {
              className: "w-full min-h-screen"
            }, React.createElementWithKey(PDP_Header_Buyer.make, {}, router.asPath), React$1.createElement("div", {
                  className: "w-full bg-white"
                }, React$1.createElement("div", {
                      className: "w-full max-w-3xl mx-auto relative bg-white min-h-screen"
                    }, React$1.createElement(PDP_Matching_Image_Buyer.make, {
                          src: match.image.thumb1000x1000
                        }), React$1.createElement("section", {
                          className: "px-4"
                        }, React$1.createElement(PDP_Matching_Title_Buyer.MO.make, {
                              query: fragmentRefs,
                              selectedGroup: selectedGroup
                            })), React$1.createElement("section", {
                          className: "px-4"
                        }, React$1.createElement(PDP_Matching_SelectGrade_Buyer.make, {
                              setShowModal: setShowModal,
                              query: fragmentRefs,
                              selectedGroup: selectedGroup,
                              setSelectedGroup: match$2[1]
                            })), React$1.createElement("section", {
                          className: "py-6"
                        }, React$1.createElement(PDP_Matching_Demeter_Buyer.make, {
                              query: fragmentRefs,
                              selectedGroup: selectedGroup
                            })), React$1.createElement(PDP_Matching_Buyer$MO$Divider, {}), React.createElementWithKey(PDP_Matching_Estimator_Buyer.make, {
                          selectedGroup: selectedGroup,
                          query: fragmentRefs
                        }, String(match.productId)), React$1.createElement("section", {
                          className: "px-4"
                        }, React$1.createElement(PDP_Matching_Details_Buyer.make, {
                              query: fragmentRefs
                            })), React$1.createElement(PDP_Matching_Buyer$MO$Divider, {}), React$1.createElement("section", {
                          className: "px-4 pt-4 pb-16"
                        }, React$1.createElement(PDP_Matching_ServiceGuide_Buyer.Trigger.make, {
                              onClick: (function (param) {
                                  setShowModal(function (param) {
                                        return /* Show */{
                                                _0: /* ServiceGuide */1
                                              };
                                      });
                                })
                            }), React$1.createElement(PDP_Matching_GradeGuide_Buyer.Trigger.make, {
                              onClick: (function (param) {
                                  setShowModal(function (param) {
                                        return /* Show */{
                                                _0: /* GradeGuide */0
                                              };
                                      });
                                }),
                              className: "mt-3"
                            }))), React$1.createElement(PDP_Matching_Submit_Buyer.MO.make, {
                      setShowModal: setShowModal,
                      selectedGroup: selectedGroup,
                      query: fragmentRefs
                    }), React$1.createElement(PDP_Matching_Modals_Buyer.MO.make, {
                      show: match$1[0],
                      setShow: setShowModal,
                      query: fragmentRefs
                    })), React$1.createElement(Footer_Buyer.MO.make, {}));
}

var MO = {
  Divider: Divider,
  make: PDP_Matching_Buyer$MO
};

function PDP_Matching_Buyer(props) {
  if (props.deviceType !== 0) {
    return React$1.createElement(PDP_Matching_Buyer$MO, {
                query: props.query
              });
  } else {
    return null;
  }
}

var make = PDP_Matching_Buyer;

export {
  Fragment ,
  MO ,
  make ,
}
/* React Not a pure module */
