// Generated by ReScript, PLEASE EDIT WITH CARE

import * as React from "react";
import * as RelayEnv from "../../constants/RelayEnv.mjs";
import * as Js_promise from "rescript/lib/es6/js_promise.js";
import * as Router from "next/router";
import * as DeviceDetect from "../../bindings/DeviceDetect.mjs";
import * as GnbBannerList_Buyer from "../../components/GnbBannerList_Buyer.mjs";
import * as ShopCategorySelect_Buyer from "../../components/ShopCategorySelect_Buyer.mjs";
import * as PLP_DisplayCategory_Buyer from "./plp/PLP_DisplayCategory_Buyer.mjs";

function $$default(props) {
  var router = Router.useRouter();
  React.useEffect((function () {
          router.replace("/products");
        }), []);
  return React.createElement(PLP_DisplayCategory_Buyer.Placeholder.make, {
              deviceType: props.deviceType,
              gnbBanners: props.gnbBanners,
              displayCategories: props.displayCategories
            });
}

function getServerSideProps(ctx) {
  var deviceType = DeviceDetect.detectDeviceFromCtx2(ctx.req);
  return Js_promise.then_((function (res1) {
                return Js_promise.then_((function (res2) {
                              return Js_promise.$$catch((function (err) {
                                            console.log("에러 GnbBannerListBuyerQuery", err);
                                            return Promise.resolve({
                                                        props: {
                                                          query: ctx.query,
                                                          deviceType: deviceType,
                                                          gnbBanners: [],
                                                          displayCategories: []
                                                        }
                                                      });
                                          }), Promise.resolve({
                                              props: {
                                                query: ctx.query,
                                                deviceType: deviceType,
                                                gnbBanners: res1.gnbBanners,
                                                displayCategories: res2.displayCategories
                                              }
                                            }));
                            }), ShopCategorySelect_Buyer.Query.fetchPromised(RelayEnv.envSinsunMarket, {
                                onlyDisplayable: true,
                                parentId: undefined,
                                types: ["NORMAL"]
                              }, undefined, undefined, undefined));
              }), GnbBannerList_Buyer.Query.fetchPromised(RelayEnv.envSinsunMarket, undefined, undefined, undefined, undefined));
}

export {
  $$default ,
  $$default as default,
  getServerSideProps ,
}
/* react Not a pure module */
