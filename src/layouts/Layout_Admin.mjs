// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Curry from "rescript/lib/es6/curry.js";
import * as React from "react";
import * as Header from "../components/Header.mjs";
import Link from "next/link";
import * as Belt_Array from "rescript/lib/es6/belt_Array.js";
import * as Belt_Option from "rescript/lib/es6/belt_Option.js";
import * as Router from "next/router";
import * as Layout_Admin_Sub from "../components/Layout_Admin_Sub.mjs";
import * as Layout_Admin_Data from "../data/Layout_Admin_Data.mjs";
import * as Layout_Admin_Root from "../components/Layout_Admin_Root.mjs";
import * as LocalStorageHooks from "../utils/LocalStorageHooks.mjs";

function Layout_Admin$Head(Props) {
  var icon = Props.icon;
  var selected = Props.selected;
  var title = Props.title;
  return React.createElement("div", {
              className: "flex flex-row items-center w-full px-16 py-4"
            }, icon, React.createElement("div", undefined), React.createElement("p", {
                  className: selected ? "ml-2 font-bold" : "ml-2 font-normal"
                }, title));
}

var Head = {
  make: Layout_Admin$Head
};

function render(t, pathname, openedAdminMenu, setOpenedAdminMenu) {
  if (t.TAG === /* Root */0) {
    var children = t.children;
    var match = t.anchor;
    var url = match.url;
    var headComponent = React.createElement(Layout_Admin$Head, {
          icon: t.icon,
          selected: Layout_Admin_Data.Item.hasUrl(t, pathname),
          title: t.title
        });
    var head = children.length !== 0 ? headComponent : React.createElement(Link, {
            href: url,
            passHref: true,
            children: React.createElement("a", {
                  target: match.target
                }, headComponent)
          });
    return React.createElement(Layout_Admin_Root.make, {
                accordianItemValue: url,
                head: head,
                children: Belt_Array.map(children, (function (d) {
                        return render(d, pathname, openedAdminMenu, setOpenedAdminMenu);
                      })),
                openedAdminMenu: openedAdminMenu,
                setOpenedAdminMenu: setOpenedAdminMenu,
                key: url
              });
  }
  var match$1 = t.anchor;
  var url$1 = match$1.url;
  return React.createElement(Layout_Admin_Sub.make, {
              title: t.title,
              href: url$1,
              selected: Layout_Admin_Data.Item.hasUrl(t, pathname),
              target: match$1.target,
              key: url$1
            });
}

function Layout_Admin(Props) {
  var children = Props.children;
  var router = Router.useRouter();
  var match = Curry._1(LocalStorageHooks.AdminMenu.useLocalStorage, undefined);
  var setOpenedAdminMenu = match[1];
  var openedAdminMenu = match[0];
  return React.createElement(React.Fragment, undefined, React.createElement(Header.Admin.make, {}), React.createElement("main", {
                  className: "flex flex-row bg-div-shape-L1"
                }, React.createElement("aside", {
                      className: "mt-px min-h-screen bg-white"
                    }, Belt_Array.map(Layout_Admin_Data.Item.items, (function (t) {
                            return render(t, router.pathname, Belt_Option.getWithDefault(openedAdminMenu, []), setOpenedAdminMenu);
                          }))), React.createElement("article", {
                      className: "w-full max-w-gnb-panel"
                    }, children)));
}

var make = Layout_Admin;

export {
  Head ,
  render ,
  make ,
  
}
/* react Not a pure module */
